/**
 * messageformat.js
 *
 * ICU PluralFormat + SelectFormat for JavaScript
 *
 * @author Alex Sexton - @SlexAxton
 * @version 0.1.7
 * @license WTFPL
 * @contributor_license Dojo CLA
 */
(function(root){MessageFormatLight.p=[function(s){var n=+s;if(n===1)return"one";return"other"},function(s){var n=+s;if(n>=0&&n<=1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var n=+s;if(i===0||n===1)return"one";return"other"},function(s){var n=+s;if(n===0)return"zero";if(n===1)return"one";if(n===2)return"two";if(n%100>=3&&n%100<=10)return"few";if(n%100>=11&&n%100<=99)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(i===1&&v===0)return"one";return"other"},function(s){var n=+s;if(n%10===1&&n%100!==11)return"one";if(n%10>=2&&n%10<=4&&(n%100<12||n%100>14))return"few";if(n%10===0||n%10>=5&&n%10<=9||n%100>=11&&n%100<=14)return"many";return"other"},function(){return"other"},function(s){var n=+s;if(n%10===1&&(n%100!==11&&n%100!==71&&n%100!==91))return"one";if(n%10===2&&(n%100!==12&&n%100!==72&&n%100!==92))return"two";if((n%10>=3&&n%10<=4||n%10===9)&&((n%100<10||n%100>19)&&(n%100<70||n%100>79)&&(n%100<90||n%100>99)))return"few";if(n!==0&&n%1e6===0)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var f=+(s+".").split(".")[1];if(v===0&&i%10===1&&i%100!==11||f%10===1&&f%100!==11)return"one";if(v===0&&(i%10>=2&&i%10<=4)&&(i%100<12||i%100>14)||f%10>=2&&f%10<=4&&(f%100<12||f%100>14))return"few";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(i===1&&v===0)return"one";if(i>=2&&i<=4&&v===0)return"few";if(v!==0)return"many";return"other"},function(s){var n=+s;if(n===0)return"zero";if(n===1)return"one";if(n===2)return"two";if(n===3)return"few";if(n===6)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var t=+(""+s).replace(/^[^.]*.?|0+$/g,"");var n=+s;if(n===1||t!==0&&(i===0||i===1))return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var f=+(s+".").split(".")[1];if(v===0&&i%100===1||f%100===1)return"one";if(v===0&&i%100===2||f%100===2)return"two";if(v===0&&(i%100>=3&&i%100<=4)||f%100>=3&&f%100<=4)return"few";return"other"},function(s){var i=Math.floor(Math.abs(+s));if(i===0||i===1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var f=+(s+".").split(".")[1];if(v===0&&(i===1||i===2||i===3)||v===0&&(i%10!==4&&i%10!==6&&i%10!==9)||v!==0&&(f%10!==4&&f%10!==6&&f%10!==9))return"one";return"other"},function(s){var n=+s;if(n===1)return"one";if(n===2)return"two";if(n>=3&&n<=6)return"few";if(n>=7&&n<=10)return"many";return"other"},function(s){var n=+s;if(n===1||n===11)return"one";if(n===2||n===12)return"two";if(n>=3&&n<=10||n>=13&&n<=19)return"few";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(v===0&&i%10===1)return"one";if(v===0&&i%10===2)return"two";if(v===0&&(i%100===0||i%100===20||i%100===40||i%100===60||i%100===80))return"few";if(v!==0)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var n=+s;if(i===1&&v===0)return"one";if(i===2&&v===0)return"two";if(v===0&&(n<0||n>10)&&n%10===0)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var t=+(""+s).replace(/^[^.]*.?|0+$/g,"");if(t===0&&i%10===1&&i%100!==11||t!==0)return"one";return"other"},function(s){var n=+s;if(n===1)return"one";if(n===2)return"two";return"other"},function(s){var n=+s;if(n===0)return"zero";if(n===1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var n=+s;if(n===0)return"zero";if((i===0||i===1)&&n!==0)return"one";return"other"},function(s){var f=+(s+".").split(".")[1];var n=+s;if(n%10===1&&(n%100<11||n%100>19))return"one";if(n%10>=2&&n%10<=9&&(n%100<11||n%100>19))return"few";if(f!==0)return"many";return"other"},function(s){var v=(s+".").split(".")[1].length;var f=+(s+".").split(".")[1];var n=+s;if(n%10===0||n%100>=11&&n%100<=19||v===2&&(f%100>=11&&f%100<=19))return"zero";if(n%10===1&&n%100!==11||v===2&&f%10===1&&f%100!==11||v!==2&&f%10===1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var f=+(s+".").split(".")[1];if(v===0&&i%10===1||f%10===1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;var n=+s;if(i===1&&v===0)return"one";if(v!==0||n===0||n!==1&&(n%100>=1&&n%100<=19))return"few";return"other"},function(s){var n=+s;if(n===1)return"one";if(n===0||n%100>=2&&n%100<=10)return"few";if(n%100>=11&&n%100<=19)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(i===1&&v===0)return"one";if(v===0&&(i%10>=2&&i%10<=4)&&(i%100<12||i%100>14))return"few";if(v===0&&i!==1&&(i%10>=0&&i%10<=1)||v===0&&(i%10>=5&&i%10<=9)||v===0&&(i%100>=12&&i%100<=14))return"many";return"other"},function(s){var n=+s;if(n>=0&&n<=2&&n!==2)return"one";return"other"},function(s){var v=(s+".").split(".")[1].length;var n=+s;if(n===1&&v===0)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(v===0&&i%10===1&&i%100!==11)return"one";if(v===0&&(i%10>=2&&i%10<=4)&&(i%100<12||i%100>14))return"few";if(v===0&&i%10===0||v===0&&(i%10>=5&&i%10<=9)||v===0&&(i%100>=11&&i%100<=14))return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));var n=+s;if(i===0||n===1)return"one";if(n>=2&&n<=10)return"few";return"other"},function(s){var i=Math.floor(Math.abs(+s));var f=+(s+".").split(".")[1];var n=+s;if(n===0||n===1||i===0&&f===1)return"one";return"other"},function(s){var i=Math.floor(Math.abs(+s));var v=(s+".").split(".")[1].length;if(v===0&&i%100===1)return"one";if(v===0&&i%100===2)return"two";if(v===0&&(i%100>=3&&i%100<=4)||v!==0)return"few";return"other"},function(s){var n=+s;if(n>=0&&n<=1||n>=11&&n<=99)return"one";return"other"},function(s){var n=+s;if(n===1||n===5||n===7||n===8||n===9||n===10)return"one";if(n===2||n===3)return"two";if(n===4)return"few";if(n===6)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));if(i%10===1||i%10===2||i%10===5||i%10===7||i%10===8||(i%100===20||i%100===50||i%100===70||i%100===80))return"one";if(i%10===3||i%10===4||(i%1e3===100||i%1e3===200||i%1e3===300||i%1e3===400||i%1e3===500||i%1e3===600||i%1e3===700||i%1e3===800||i%1e3===900))return"few";if(i===0||i%10===6||(i%100===40||i%100===60||i%100===90))return"many";return"other"},function(s){var n=+s;if(n===1||n===3)return"one";if(n===2)return"two";if(n===4)return"few";return"other"},function(s){var n=+s;if(n===0||n===7||n===8||n===9)return"zero";if(n===1)return"one";if(n===2)return"two";if(n===3||n===4)return"few";if(n===5||n===6)return"many";return"other"},function(s){var n=+s;if(n%10===1&&n%100!==11)return"one";if(n%10===2&&n%100!==12)return"two";if(n%10===3&&n%100!==13)return"few";return"other"},function(s){var n=+s;if(n===1)return"one";if(n===2||n===3)return"two";if(n===4)return"few";if(n===6)return"many";return"other"},function(s){var n=+s;if(n===1||n===5)return"one";return"other"},function(s){var n=+s;if(n===11||n===8||n===80||n===800)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));if(i===1)return"one";if(i===0||(i%100>=2&&i%100<=20||i%100===40||i%100===60||i%100===80))return"many";return"other"},function(s){var n=+s;if(n%10===6||n%10===9||n%10===0&&n!==0)return"many";return"other"},function(s){var i=Math.floor(Math.abs(+s));if(i%10===1&&i%100!==11)return"one";if(i%10===2&&i%100!==12)return"two";if((i%10===7||i%10===8)&&(i%100!==17&&i%100!==18))return"many";return"other"},function(s){var n=+s;if(n===1)return"one";if(n===2||n===3)return"two";if(n===4)return"few";return"other"},function(s){var n=+s;if(n>=1&&n<=4)return"one";return"other"},function(s){var n=+s;if(n===1)return"one";if(n%10===4&&n%100!==14)return"many";return"other"},function(s){var n=+s;if((n%10===1||n%10===2)&&(n%100!==11&&n%100!==12))return"one";return"other"},function(s){var n=+s;if(n%10===3&&n%100!==13)return"few";return"other"}];MessageFormatLight.target_locale="en";MessageFormatLight.prototype.setTargetLocale=function(locale){MessageFormatLight.target_locale=locale};MessageFormatLight.prototype.setTargetLocaleNumberPlurals=function(num){MessageFormatLight.target_locale_number_plurals=num};function MessageFormatLight(locale,pluralFunc){var fallbackLocale;MessageFormatLight.target_locale=locale;if(locale&&pluralFunc){MessageFormatLight.plural[locale]=pluralFunc}fallbackLocale=locale=locale||"en";pluralFunc=pluralFunc||MessageFormatLight.plural[fallbackLocale=MessageFormatLight.Utils.getFallbackLocale(locale)||"en"].plural;if(!pluralFunc){throw new Error("Plural Function not found for locale: "+locale)}this.pluralFunc=pluralFunc;this.locale=locale;this.fallbackLocale=fallbackLocale}c=function(d){if(!d){throw new Error("MessageFormatLight: No data passed to function.")}};n=function(d,k,o){if(isNaN(d[k])){throw new Error("MessageFormatLight: `"+k+"` isnt a number.")}return d[k]-(o||0)};v=function(d,k){c(d);if(typeof d[k]==="undefined"){return""}return d[k]};p=function(d,k,o,l,p){c(d);if(typeof d[k]==="undefined"){return""}return d[k]in p?p[d[k]]:(k=MessageFormatLight.plural[l].plural(d[k]-o),k in p?p[k]:p.other)};s=function(d,k,p){c(d);if(typeof d[k]==="undefined"){return""}return d[k]in p?p[d[k]]:p.other};n=function(d,k,p){c(d);if(typeof d[k]==="undefined"){return""}return new Intl.NumberFormat(MessageFormatLight.target_locale,MessageFormatLight.number[p]).format(d[k])};n_o=function(d,k,o){c(d);if(typeof d[k]==="undefined"){return""}return new Intl.NumberFormat(MessageFormatLight.target_locale).format(d[k]-o||d[k])};t=function(d,k,p){c(d);if(typeof d[k]==="undefined"){return""}var time=d[k].length>0?new moment(d[k],"HH:mm"):new moment(moment().format("HH:mm"),"HH:mm");if(time._d=="Invalid Time"){return new Intl.DateTimeFormat(MessageFormatLight.target_locale,MessageFormatLight.date[p]||MessageFormatLight.date["medium"]).format(Date.parse(new moment(new moment(moment().format("HH:mm"),"HH:mm"))))}var time=d[k].length>0?new moment(d[k],"hh:mm"):new moment(moment().format("hh:mm"),"hh:mm");return new Intl.DateTimeFormat(MessageFormatLight.target_locale,MessageFormatLight.time[p]||MessageFormatLight.time["medium"]).format(Date.parse(time))};dt=function(d,k,p){c(d);if(typeof d[k]==="undefined"){return""}var isNumber=/^\d+$/.test(d[k]);if(isNumber){var date=d[k].length>0?new moment(moment.unix(d[k]).format("YYYY-MM-DD"),"YYYY-MM-DD"):new moment(moment().format("YYYY-MM-DD"),"YYYY-MM-DD")}else{var date=d[k].length>0?new moment(d[k],"YYYY-MM-DD"):new moment(moment().format("YYYY-MM-DD"),"YYYY-MM-DD")}if(date._d=="Invalid Date"){return new Intl.DateTimeFormat(MessageFormatLight.target_locale,MessageFormatLight.date[p]||MessageFormatLight.date["medium"]).format(Date.parse(new moment(new moment(moment().format("YYYY-MM-DD"),"YYYY-MM-DD"))))}return new Intl.DateTimeFormat(MessageFormatLight.target_locale,MessageFormatLight.date[p]||MessageFormatLight.date["medium"]).format(Date.parse(new moment(date)))};MessageFormatLight.plural={af:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},ak:{plural:MessageFormatLight.p[1]},am:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[6]},ar:{plural:MessageFormatLight.p[3],ordinal:MessageFormatLight.p[6]},as:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[36]},asa:{plural:MessageFormatLight.p[0]},ast:{plural:MessageFormatLight.p[4]},az:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[37]},be:{plural:MessageFormatLight.p[5]},bem:{plural:MessageFormatLight.p[0]},bez:{plural:MessageFormatLight.p[0]},bg:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},bh:{plural:MessageFormatLight.p[1]},bm:{plural:MessageFormatLight.p[6]},bn:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[36]},bo:{plural:MessageFormatLight.p[6]},br:{plural:MessageFormatLight.p[7]},brx:{plural:MessageFormatLight.p[0]},bs:{plural:MessageFormatLight.p[8],ordinal:MessageFormatLight.p[6]},ca:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[38]},ce:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},cgg:{plural:MessageFormatLight.p[0]},chr:{plural:MessageFormatLight.p[0]},ckb:{plural:MessageFormatLight.p[0]},cs:{plural:MessageFormatLight.p[9],ordinal:MessageFormatLight.p[6]},cy:{plural:MessageFormatLight.p[10],ordinal:MessageFormatLight.p[39]},da:{plural:MessageFormatLight.p[11],ordinal:MessageFormatLight.p[6]},de:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},dsb:{plural:MessageFormatLight.p[12],ordinal:MessageFormatLight.p[6]},dv:{plural:MessageFormatLight.p[0]},dz:{plural:MessageFormatLight.p[6]},ee:{plural:MessageFormatLight.p[0]},el:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},en:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[40]},eo:{plural:MessageFormatLight.p[0]},es:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},et:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},eu:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},fa:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[6]},ff:{plural:MessageFormatLight.p[13]},fi:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},fil:{plural:MessageFormatLight.p[14],ordinal:MessageFormatLight.p[0]},fo:{plural:MessageFormatLight.p[0]},fr:{plural:MessageFormatLight.p[13],ordinal:MessageFormatLight.p[0]},fur:{plural:MessageFormatLight.p[0]},fy:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},ga:{plural:MessageFormatLight.p[15]},gd:{plural:MessageFormatLight.p[16]},gl:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},gsw:{plural:MessageFormatLight.p[0]},gu:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[41]},guw:{plural:MessageFormatLight.p[1]},gv:{plural:MessageFormatLight.p[17]},ha:{plural:MessageFormatLight.p[0]},haw:{plural:MessageFormatLight.p[0]},he:{plural:MessageFormatLight.p[18],ordinal:MessageFormatLight.p[6]},hi:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[41]},hr:{plural:MessageFormatLight.p[8],ordinal:MessageFormatLight.p[6]},hsb:{plural:MessageFormatLight.p[12],ordinal:MessageFormatLight.p[6]},hu:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[42]},hy:{plural:MessageFormatLight.p[13],ordinal:MessageFormatLight.p[0]},id:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},ig:{plural:MessageFormatLight.p[6]},ii:{plural:MessageFormatLight.p[6]},in:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},is:{plural:MessageFormatLight.p[19],ordinal:MessageFormatLight.p[6]},it:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[43]},iu:{plural:MessageFormatLight.p[20]},iw:{plural:MessageFormatLight.p[18],ordinal:MessageFormatLight.p[6]},ja:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},jbo:{plural:MessageFormatLight.p[6]},jgo:{plural:MessageFormatLight.p[0]},ji:{plural:MessageFormatLight.p[4]},jmc:{plural:MessageFormatLight.p[0]},jv:{plural:MessageFormatLight.p[6]},jw:{plural:MessageFormatLight.p[6]},ka:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[44]},kab:{plural:MessageFormatLight.p[13]},kaj:{plural:MessageFormatLight.p[0]},kcg:{plural:MessageFormatLight.p[0]},kde:{plural:MessageFormatLight.p[6]},kea:{plural:MessageFormatLight.p[6]},kk:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[45]},kkj:{plural:MessageFormatLight.p[0]},kl:{plural:MessageFormatLight.p[0]},km:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},kn:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[6]},ko:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},ks:{plural:MessageFormatLight.p[0]},ksb:{plural:MessageFormatLight.p[0]},ksh:{plural:MessageFormatLight.p[21]},ku:{plural:MessageFormatLight.p[0]},kw:{plural:MessageFormatLight.p[20]},ky:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},lag:{plural:MessageFormatLight.p[22]},lb:{plural:MessageFormatLight.p[0]},lg:{plural:MessageFormatLight.p[0]},lkt:{plural:MessageFormatLight.p[6]},ln:{plural:MessageFormatLight.p[1]},lo:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[0]},lt:{plural:MessageFormatLight.p[23],ordinal:MessageFormatLight.p[6]},lv:{plural:MessageFormatLight.p[24],ordinal:MessageFormatLight.p[6]},mas:{plural:MessageFormatLight.p[0]},mg:{plural:MessageFormatLight.p[1]},mgo:{plural:MessageFormatLight.p[0]},mk:{plural:MessageFormatLight.p[25],ordinal:MessageFormatLight.p[46]},ml:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},mn:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},mo:{plural:MessageFormatLight.p[26],ordinal:MessageFormatLight.p[0]},mr:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[47]},ms:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[0]},mt:{plural:MessageFormatLight.p[27]},my:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},nah:{plural:MessageFormatLight.p[0]},naq:{plural:MessageFormatLight.p[20]},nb:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},nd:{plural:MessageFormatLight.p[0]},ne:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[48]},nl:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},nn:{plural:MessageFormatLight.p[0]},nnh:{plural:MessageFormatLight.p[0]},no:{plural:MessageFormatLight.p[0]},nqo:{plural:MessageFormatLight.p[6]},nr:{plural:MessageFormatLight.p[0]},nso:{plural:MessageFormatLight.p[1]},ny:{plural:MessageFormatLight.p[0]},nyn:{plural:MessageFormatLight.p[0]},om:{plural:MessageFormatLight.p[0]},or:{plural:MessageFormatLight.p[0]},os:{plural:MessageFormatLight.p[0]},pa:{plural:MessageFormatLight.p[1],ordinal:MessageFormatLight.p[6]},pap:{plural:MessageFormatLight.p[0]},pl:{plural:MessageFormatLight.p[28],ordinal:MessageFormatLight.p[6]},prg:{plural:MessageFormatLight.p[24],ordinal:MessageFormatLight.p[6]},ps:{plural:MessageFormatLight.p[0]},pt:{plural:MessageFormatLight.p[29],ordinal:MessageFormatLight.p[6]},"pt-PT":{plural:MessageFormatLight.p[30]},rm:{plural:MessageFormatLight.p[0]},ro:{plural:MessageFormatLight.p[26],ordinal:MessageFormatLight.p[0]},rof:{plural:MessageFormatLight.p[0]},root:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},ru:{plural:MessageFormatLight.p[31],ordinal:MessageFormatLight.p[6]},rwk:{plural:MessageFormatLight.p[0]},sah:{plural:MessageFormatLight.p[6]},saq:{plural:MessageFormatLight.p[0]},se:{plural:MessageFormatLight.p[20]},seh:{plural:MessageFormatLight.p[0]},ses:{plural:MessageFormatLight.p[6]},sg:{plural:MessageFormatLight.p[6]},sh:{plural:MessageFormatLight.p[8],ordinal:MessageFormatLight.p[6]},shi:{plural:MessageFormatLight.p[32]},si:{plural:MessageFormatLight.p[33],ordinal:MessageFormatLight.p[6]},sk:{plural:MessageFormatLight.p[9],ordinal:MessageFormatLight.p[6]},sl:{plural:MessageFormatLight.p[34],ordinal:MessageFormatLight.p[6]},sma:{plural:MessageFormatLight.p[20]},smi:{plural:MessageFormatLight.p[20]},smj:{plural:MessageFormatLight.p[20]},smn:{plural:MessageFormatLight.p[20]},sms:{plural:MessageFormatLight.p[20]},sn:{plural:MessageFormatLight.p[0]},so:{plural:MessageFormatLight.p[0]},sq:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[49]},sr:{plural:MessageFormatLight.p[8],ordinal:MessageFormatLight.p[6]},ss:{plural:MessageFormatLight.p[0]},ssy:{plural:MessageFormatLight.p[0]},st:{plural:MessageFormatLight.p[0]},sv:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[50]},sw:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},syr:{plural:MessageFormatLight.p[0]},ta:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},te:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},teo:{plural:MessageFormatLight.p[0]},th:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},ti:{plural:MessageFormatLight.p[1]},tig:{plural:MessageFormatLight.p[0]},tk:{plural:MessageFormatLight.p[0]},tl:{plural:MessageFormatLight.p[14],ordinal:MessageFormatLight.p[0]},tn:{plural:MessageFormatLight.p[0]},to:{plural:MessageFormatLight.p[6]},tr:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},ts:{plural:MessageFormatLight.p[0]},tzm:{plural:MessageFormatLight.p[35]},ug:{plural:MessageFormatLight.p[0]},uk:{plural:MessageFormatLight.p[31],ordinal:MessageFormatLight.p[51]},ur:{plural:MessageFormatLight.p[4],ordinal:MessageFormatLight.p[6]},uz:{plural:MessageFormatLight.p[0],ordinal:MessageFormatLight.p[6]},ve:{plural:MessageFormatLight.p[0]},vi:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[0]},vo:{plural:MessageFormatLight.p[0]},vun:{plural:MessageFormatLight.p[0]},wa:{plural:MessageFormatLight.p[1]},wae:{plural:MessageFormatLight.p[0]},wo:{plural:MessageFormatLight.p[6]},xh:{plural:MessageFormatLight.p[0]},xog:{plural:MessageFormatLight.p[0]},yi:{plural:MessageFormatLight.p[4]},yo:{plural:MessageFormatLight.p[6]},zh:{plural:MessageFormatLight.p[6],ordinal:MessageFormatLight.p[6]},zu:{plural:MessageFormatLight.p[2],ordinal:MessageFormatLight.p[6]}};MessageFormatLight.number={decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"}};MessageFormatLight.time={short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}};MessageFormatLight.date={short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{month:"long",day:"numeric",year:"numeric",weekday:"long"}};MessageFormatLight.SafeString=function(string){this.string=string};MessageFormatLight.SafeString.prototype.toString=function(){return this.string.toString()};MessageFormatLight.Utils={numSub:function(string,d,key,offset){var s=string.replace(/(^|[^\\])#/g,'$1"+n_o('+d+","+key+(offset?","+offset:"")+')+"');return s.replace(/^""\+/,"").replace(/\+""$/,"")},escapeExpression:function(string){var escape={"\n":"\\n",'"':'\\"'},badChars=/[\n"]/g,possible=/[\n"]/,escapeChar=function(chr){return escape[chr]||"&amp;"};if(string instanceof MessageFormatLight.SafeString){return string.toString()}else if(string===null||string===false){return""}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},getFallbackLocale:function(locale){var tagSeparator=locale.indexOf("-")>=0?"-":"_";while(!MessageFormatLight.plural.hasOwnProperty(locale)){locale=locale.substring(0,locale.lastIndexOf(tagSeparator));if(locale.length===0){return null}}return locale}};MessageFormatLight.prototype.isIcuFormat=function(text){return MessageFormatLight.prototype.getIcuElements(MessageFormatLight.prototype.parse(text,undefined,"is_icu"),"is_icu")};MessageFormatLight.prototype.checkErrorIcuFormat=function(text){return MessageFormatLight.prototype.getIcuElements(MessageFormatLight.prototype.parse(text,undefined,"check_error"))};MessageFormatLight.prototype.compiler=function(text,obj){var error=this.checkErrorIcuFormat(text);if(typeof error.name!=="undefined"&&error.name==="SyntaxError"){return false}var compile_function=this.compile(text);return compile_function(obj)};var mparser=function(){function quote(s){return'"'+s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var result={parse:function(input,startRule,check_icu){var parseFunctions={start:parse_start,messageFormatPattern:parse_messageFormatPattern,messageFormatPatternRight:parse_messageFormatPatternRight,messageFormatElement:parse_messageFormatElement,elementFormat:parse_elementFormat,pluralStyle:parse_pluralStyle,selectStyle:parse_selectStyle,simpleStyle:parse_simpleStyle,pluralFormatPattern:parse_pluralFormatPattern,offsetPattern:parse_offsetPattern,selectFormatPattern:parse_selectFormatPattern,pluralForms:parse_pluralForms,simpleFormatPattern:parse_simpleForms,stringKey:parse_stringKey,string:parse_string,id:parse_id,chars:parse_chars,char:parse_char,digits:parse_digits,negativeMark:parse_negativeMark,hexDigit:parse_hexDigit,_:parse__,whitespace:parse_whitespace};if(startRule!==undefined){if(parseFunctions[startRule]===undefined){throw new Error("Invalid rule name: "+quote(startRule)+".")}}else{startRule="start"}var pos=0;var reportFailures=0;var rightmostFailuresPos=0;var rightmostFailuresExpected=[];function padLeft(input,padding,length){var result=input;var padLength=length-input.length;for(var i=0;i<padLength;i++){result=padding+result}return result}function escape(ch){var charCode=ch.charCodeAt(0);var escapeChar;var length;if(charCode<=255){escapeChar="x";length=2}else{escapeChar="u";length=4}return"\\"+escapeChar+padLeft(charCode.toString(16).toUpperCase(),"0",length)}function matchFailed(failure){if(pos<rightmostFailuresPos){return}if(pos>rightmostFailuresPos){rightmostFailuresPos=pos;rightmostFailuresExpected=[]}rightmostFailuresExpected.push(failure)}function parse_start(){var result0;var pos0;pos0=pos;result0=parse_messageFormatPattern();if(result0!==null){result0=function(offset,messageFormatPattern){return{type:"program",program:messageFormatPattern}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_messageFormatPattern(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_string();if(result0!==null){result1=[];result2=parse_messageFormatPatternRight();while(result2!==null){result1.push(result2);result2=parse_messageFormatPatternRight()}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,s1,inner){var st=[];if(s1&&s1.val){st.push(s1)}for(var i in inner){if(inner.hasOwnProperty(i)){st.push(inner[i])}}return{type:"messageFormatPattern",statements:st}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_messageFormatPatternRight(){var result0,result1,result2,result3,result4,result5;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===123){result0="{";pos++}else{result0=null;if(reportFailures===0){matchFailed('"{"')}}if(result0!==null){result1=parse__();if(result1!==null){result2=parse_messageFormatElement();if(result2!==null){result3=parse__();if(result3!==null){if(input.charCodeAt(pos)===125){result4="}";pos++}else{result4=null;if(reportFailures===0){matchFailed('"}"')}}if(result4!==null){result5=parse_string();if(result5!==null){result0=[result0,result1,result2,result3,result4,result5]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,mfe,s1){var res=[];if(mfe){res.push(mfe)}if(s1&&s1.val){res.push(s1)}return{type:"messageFormatPatternRight",statements:res}}(pos0,result0[2],result0[5])}if(result0===null){pos=pos0}return result0}function parse_messageFormatElement(){var result0,result1,result2;var pos0,pos1,pos2;pos0=pos;pos1=pos;result0=parse_id();if(result0!==null){pos2=pos;if(input.charCodeAt(pos)===44){result1=",";pos++}else{result1=null;if(reportFailures===0){matchFailed('","')}}if(result1!==null){result2=parse_elementFormat();if(result2!==null){result1=[result1,result2]}else{result1=null;pos=pos2}}else{result1=null;pos=pos2}result1=result1!==null?result1:"";if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,argIdx,efmt){var res={type:"messageFormatElement",argumentIndex:argIdx};if(efmt&&efmt.length){res.elementFormat=efmt[1]}else{res.output=true}return res}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_elementFormat(){var result0,result1,result2,result3,result4,result5,result6;var pos0,pos1;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,6)==="plural"){result1="plural";pos+=6}else{result1=null;if(reportFailures===0){matchFailed('"plural"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===44){result3=",";pos++}else{result3=null;if(reportFailures===0){matchFailed('","')}}if(result3!==null){result4=parse__();if(result4!==null){result5=parse_pluralStyle();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,t,s){return{type:"elementFormat",key:t,val:s.val}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,6)==="select"){result1="select";pos+=6}else{result1=null;if(reportFailures===0){matchFailed('"select"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===44){result3=",";pos++}else{result3=null;if(reportFailures===0){matchFailed('","')}}if(result3!==null){result4=parse__();if(result4!==null){result5=parse_selectStyle();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,t,s){return{type:"elementFormat",key:t,val:s.val}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}}if(result0===null){pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,6)==="number"){result1="number";pos+=6}else{result1=null;if(reportFailures===0){matchFailed('"number"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===44){result3=",";pos++}else if(input.charCodeAt(pos)===125){result3="}"}else{result3=null;if(reportFailures===0){matchFailed('","')}}if(result3!==null){if(result3==="}"){result0=[result0,result1,result2]}else{result4=parse__();if(result4!==null){result5=parse_simpleStyle();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,t,s){var val=typeof s!=="undefined"?s.val:null;return{type:"elementFormat",key:t,val:val}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}}if(result0===null){pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,4)==="date"){result1="date";pos+=4}else{result1=null;if(reportFailures===0){matchFailed('"date"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===44){result3=",";pos++}else if(input.charCodeAt(pos)===125){result3="}"}else{result3=null;if(reportFailures===0){matchFailed('","')}}if(result3!==null){if(result3==="}"){result0=[result0,result1,result2]}else{result4=parse__();if(result4!==null){result5=parse_simpleStyle();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,t,s){var val=typeof s!=="undefined"?s.val:null;return{type:"elementFormat",key:t,val:val}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}}if(result0===null){pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,4)==="time"){result1="time";pos+=4}else{result1=null;if(reportFailures===0){matchFailed('"time"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===44){result3=",";pos++}else if(input.charCodeAt(pos)===125){result3="}"}else{result3=null;if(reportFailures===0){matchFailed('","')}}if(result3!==null){if(result3==="}"){result0=[result0,result1,result2]}else{result4=parse__();if(result4!==null){result5=parse_simpleStyle();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,t,s){var val=typeof s!=="undefined"?s.val:null;return{type:"elementFormat",key:t,val:val}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}}return result0}function parse_pluralStyle(){var result0;var pos0;pos0=pos;result0=parse_pluralFormatPattern();if(result0!==null){result0=function(offset,pfp){return{type:"pluralStyle",val:pfp}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_simpleStyle(){var result0,result1;var pos0,pos1;pos0=pos;result0=parse_simpleForms();if(result0!==null){result0=function(offset,pfp){return{type:"simpleStyle",val:pfp}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_selectStyle(){var result0;var pos0;pos0=pos;result0=parse_selectFormatPattern();if(result0!==null){result0=function(offset,sfp){return{type:"selectStyle",val:sfp}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_pluralFormatPattern(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_offsetPattern();result0=result0!==null?result0:"";if(result0!==null){result1=[];result2=parse_pluralForms();while(result2!==null){result1.push(result2);result2=parse_pluralForms()}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,op,pf){var res={type:"pluralFormatPattern",pluralForms:pf};if(op){res.offset=op}else{res.offset=0}return res}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_offsetPattern(){var result0,result1,result2,result3,result4,result5,result6;var pos0,pos1;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(input.substr(pos,6)==="offset"){result1="offset";pos+=6}else{result1=null;if(reportFailures===0){matchFailed('"offset"')}}if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===58){result3=":";pos++}else{result3=null;if(reportFailures===0){matchFailed('":"')}}if(result3!==null){result4=parse__();if(result4!==null){result5=parse_digits();if(result5!==null){result6=parse__();if(result6!==null){result0=[result0,result1,result2,result3,result4,result5,result6]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,d){return d}(pos0,result0[5])}if(result0===null){pos=pos0}return result0}function parse_selectFormatPattern(){var result0,result1;var pos0;pos0=pos;result0=[];result1=parse_pluralForms();while(result1!==null){result0.push(result1);result1=parse_pluralForms()}if(result0!==null){result0=function(offset,pf){return{type:"selectFormatPattern",pluralForms:pf}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_pluralForms(){var result0,result1,result2,result3,result4,result5,result6,result7;var pos0,pos1;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){result1=parse_stringKey();if(result1!==null){result2=parse__();if(result2!==null){if(input.charCodeAt(pos)===123){result3="{";pos++}else{result3=null;if(reportFailures===0){matchFailed('"{"')}}if(result3!==null){result4=parse__();if(result4!==null){result5=parse_messageFormatPattern();if(result5!==null){result6=parse__();if(result6!==null){if(input.charCodeAt(pos)===125){result7="}";pos++}else{result7=null;if(reportFailures===0){matchFailed('"}"')}}if(result7!==null){result0=[result0,result1,result2,result3,result4,result5,result6,result7]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,k,mfp){return{type:"pluralForms",key:k,val:mfp}}(pos0,result0[1],result0[5])}if(result0===null){pos=pos0}return result0}function parse_simpleForms(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){result1=parse_stringKey();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,k,mfp){return{type:"simpleFormatPattern",key:k,val:mfp}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_stringKey(){var result0,result1;var pos0,pos1;pos0=pos;result0=parse_id();if(result0!==null){result0=function(offset,i){return i}(pos0,result0)}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;if(input.charCodeAt(pos)===61){result0="=";pos++}else{result0=null;if(reportFailures===0){matchFailed('"="')}}if(result0!==null){result1=parse_digits();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,d){return d}(pos0,result0[1])}if(result0===null){pos=pos0}}return result0}function parse_string(){var result0,result1,result2,result3,result4;var pos0,pos1,pos2;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){result1=[];pos2=pos;result2=parse__();if(result2!==null){result3=parse_chars();if(result3!==null){result4=parse__();if(result4!==null){result2=[result2,result3,result4]}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}while(result2!==null){result1.push(result2);pos2=pos;result2=parse__();if(result2!==null){result3=parse_chars();if(result3!==null){result4=parse__();if(result4!==null){result2=[result2,result3,result4]}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,ws,s){var tmp=[];for(var i=0;i<s.length;++i){for(var j=0;j<s[i].length;++j){tmp.push(s[i][j])}}return{type:"string",val:ws+tmp.join("")}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_id(){var result0,result1,result2,result3;var pos0,pos1;pos0=pos;pos1=pos;result0=parse__();if(result0!==null){if(/^[0-9a-zA-Z$_]/.test(input.charAt(pos))){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed('"placeholder id"')}}if(result1!==null){result2=[];if(/^[^,#'}{\s"<>]/.test(input.charAt(pos))){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("correct characters in the placeholder")}}while(result3!==null){result2.push(result3);if(/^[^,#'}{\s"<>]/.test(input.charAt(pos))){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("correct characters in the placeholder")}}}if(result2!==null){result3=parse__();if(result3!==null){result0=[result0,result1,result2,result3]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,s1,s2){return s1+(s2?s2.join(""):"")}(pos0,result0[1],result0[2])}if(result0===null){pos=pos0}return result0}function parse_chars(){var result0,result1;var pos0;pos0=pos;result1=parse_char();if(result1!==null){result0=[];while(result1!==null){result0.push(result1);result1=parse_char()}}else{result0=null}if(result0!==null){result0=function(offset,chars){return chars.join("")}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_char(){var result0,result1,result2,result3,result4;var pos0,pos1;pos0=pos;if(/^[^{}\0-\x1F \t\n\r]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("characters supported")}}if(result0!==null){result0=function(offset,x){return x}(pos0,result0)}if(result0===null){pos=pos0}if(result0===null){pos0=pos;if(input.substr(pos,2)==="\\#"){result0="\\#";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"#"')}}if(result0!==null){result0=function(offset){return"\\#"}(pos0)}if(result0===null){pos=pos0}if(result0===null){pos0=pos;if(input.substr(pos,2)==="\\{"){result0="\\{";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"{"')}}if(result0!==null){result0=function(offset){return"{"}(pos0)}if(result0===null){pos=pos0}if(result0===null){pos0=pos;if(input.substr(pos,2)==="\\}"){result0="\\}";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"}"')}}if(result0!==null){result0=function(offset){return"}"}(pos0)}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;if(input.substr(pos,2)==="\\u"){result0="\\u";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"\\u"')}}if(result0!==null){result1=parse_hexDigit();if(result1!==null){result2=parse_hexDigit();if(result2!==null){result3=parse_hexDigit();if(result3!==null){result4=parse_hexDigit();if(result4!==null){result0=[result0,result1,result2,result3,result4]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,h1,h2,h3,h4){return String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))}(pos0,result0[1],result0[2],result0[3],result0[4])}if(result0===null){pos=pos0}}}}}return result0}function parse_digits(){var result0,result1;var pos0;parse_negativeMark();pos0=pos;if(/^[0-9]/.test(input.charAt(pos))){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed('"digits"')}}if(result1!==null){result0=[];while(result1!==null){result0.push(result1);if(/^[0-9]/.test(input.charAt(pos))){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed('"digits"')}}}}else{result0=null}if(result0!==null){result0=function(offset,ds){return parseInt(ds.join(""),10)}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_negativeMark(){var result0;if(/^-/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null}return result0}function parse_hexDigit(){var result0;if(/^[0-9a-fA-F]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed('"hex digits"')}}return result0}function parse__(){var result0,result1;var pos0;reportFailures++;pos0=pos;result0=[];result1=parse_whitespace();while(result1!==null){result0.push(result1);result1=parse_whitespace()}if(result0!==null){result0=function(offset,w){return w.join("")}(pos0,result0)}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed('"whitespace"')}return result0}function parse_whitespace(){var result0;if(/^[ \t\n\r]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[ \\t\\n\\r]")}}return result0}function cleanupExpected(expected){expected.sort();var lastExpected=null;var cleanExpected=[];for(var i=0;i<expected.length;i++){if(expected[i]!==lastExpected){cleanExpected.push(expected[i]);lastExpected=expected[i]}}return cleanExpected}function computeErrorPosition(){var line=1;var column=1;var seenCR=false;for(var i=0;i<Math.max(pos,rightmostFailuresPos);i++){var ch=input.charAt(i);if(ch==="\n"){if(!seenCR){line++}column=1;seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){line++;column=1;seenCR=true}else{column++;seenCR=false}}return{line:line,column:column}}var result=parseFunctions[startRule]();if(result===null||pos!==input.length){var offset=Math.max(pos,rightmostFailuresPos);var found=null;if(offset<input.length){var substring=input.substr(offset);if(substring.indexOf(" ")===-1){found=substring}else{found=substring.substr(0,substring.indexOf(" "))}}var errorPosition=computeErrorPosition();if(check_icu!=="is_icu"){if(check_icu==="check_error"){return this.SyntaxError(cleanupExpected(rightmostFailuresExpected),found,offset,errorPosition.line,errorPosition.column,check_icu)}else{throw new this.SyntaxError(cleanupExpected(rightmostFailuresExpected),found,offset,errorPosition.line,errorPosition.column)}}else{result=false}}return result},toSource:function(){return this._source}};result.SyntaxError=function(expected,found,offset,line,column,check){function buildMessage(expected,found){var expectedHumanized,foundHumanized;switch(expected.length){case 0:expectedHumanized="the end of the string";break;case 1:expectedHumanized=expected[0];break;default:expectedHumanized=expected.slice(0,expected.length-1).join(", ")+" or "+expected[expected.length-1]}foundHumanized=found?'"'+found+'"':"the end of the string";return"Expected "+expectedHumanized+" but found "+foundHumanized}this.name="SyntaxError";this.expected=expected;this.found=found;this.message=buildMessage(expected,found);this.offset=offset;this.line=line;this.column=column;if(check==="check_error"){return this}};result.SyntaxError.prototype=Error.prototype;return result}();MessageFormatLight.prototype.parse=function(){return mparser.parse.apply(mparser,arguments)};MessageFormatLight.prototype.getIcuElements=function(ast,flag){if(ast===false){return false}else if(typeof ast.type==="undefined"&&ast.name){return ast}var self=this,needOther=false,icu_elements=[],failed=[];failed["success"]=true;function _next(data){var res=JSON.parse(JSON.stringify(data));res.pf_count++;return res}MessageFormatLight.prototype.mask=function(key){return"icu_"+key};MessageFormatLight.prototype.unmask=function(key){return key.substr(4)};function interpMFPCustom(ast,data){data=data||{keys:{},offset:{},type:{}};var r=[],i,tmp;if(typeof icu_elements[ast.type]==="undefined"){icu_elements[ast.type]=[]}if(typeof icu_elements["offsetFormat"]==="undefined"){icu_elements["offsetFormat"]=[]}if(typeof icu_elements["pairs"]==="undefined"){icu_elements["pairs"]=[]}if(typeof icu_elements["placeholders"]==="undefined"){icu_elements["placeholders"]=[]}switch(ast.type){case"program":return interpMFPCustom(ast.program);case"messageFormatPattern":for(i=0;i<ast.statements.length;++i){r.push(interpMFPCustom(ast.statements[i],data))}tmp=r.join("+")||'""';return data.pf_count?tmp:tmp;case"messageFormatPatternRight":for(i=0;i<ast.statements.length;++i){r.push(interpMFPCustom(ast.statements[i],data))}return r.join("+");case"messageFormatElement":data.pf_count=data.pf_count||0;icu_elements[ast.type].push(ast.argumentIndex);if(typeof ast.elementFormat!=="undefined"){var exists=false;data.placeholder_key=ast.argumentIndex;for(var i=0;i<icu_elements["pairs"].length;i++){if(icu_elements["pairs"][i][0]===self.mask(ast.argumentIndex)){exists=true}}if(!exists){icu_elements["pairs"].push([self.mask(ast.argumentIndex),ast.elementFormat.key])}}else{if(icu_elements["placeholders"].indexOf(self.mask(ast.argumentIndex))===-1){icu_elements["placeholders"].push(self.mask(ast.argumentIndex))}}if(ast.output){return'v(d,"'+ast.argumentIndex+'")'}else{data.keys[data.pf_count]='"'+ast.argumentIndex+'"';return interpMFPCustom(ast.elementFormat,data)}return"";case"elementFormat":if(ast.key==="select"){icu_elements[ast.type].push(ast.key);return"s(d,"+data.keys[data.pf_count]+","+interpMFPCustom(ast.val,data)+")"}else if(ast.key==="plural"){if(ast.val.offset){icu_elements["offsetFormat"].push("offset:"+ast.val.offset)}icu_elements[ast.type].push(ast.key);data.offset[data.pf_count||0]=ast.val.offset||0;return"p(d,"+data.keys[data.pf_count]+","+(data.offset[data.pf_count]||0)+',"'+self.fallbackLocale+'",'+interpMFPCustom(ast.val,data)+")"}else if(ast.key==="number"){icu_elements[ast.type].push(ast.key);return"n(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFPCustom(ast.val,data):"")+")"}else if(ast.key==="time"){icu_elements[ast.type].push(ast.key);return"t(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFPCustom(ast.val,data):"")+")"}else if(ast.key==="date"){icu_elements[ast.type].push(ast.key);return"dt(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFPCustom(ast.val,data):"")+")"}return"";case"pluralFormatPattern":data.type="plural";data.pf_count=data.pf_count||0;needOther=true;var masked_key=self.mask(data.placeholder_key);for(i=0;i<ast.pluralForms.length;++i){if(typeof icu_elements[ast.type][masked_key]==="undefined"){icu_elements[ast.type][masked_key]=[]}icu_elements[ast.type][masked_key].push(ast.pluralForms[i].key);if(ast.pluralForms[i].key==="other"){needOther=false}r.push('<br>"'+ast.pluralForms[i].key+'":'+interpMFPCustom(ast.pluralForms[i].val,_next(data)))}if(needOther){failed["success"]=false;failed["message"]='Plural format pattern should contain "other"';failed["name"]="SyntaxError"}return"{"+r.join(",")+"}";case"selectFormatPattern":data.type="select";data.pf_count=data.pf_count||0;data.offset[data.pf_count]=0;needOther=true;var masked_key=self.mask(data.placeholder_key);for(i=0;i<ast.pluralForms.length;++i){if(typeof icu_elements[ast.type][masked_key]==="undefined"){icu_elements[ast.type][masked_key]=[]}icu_elements[ast.type][masked_key].push(ast.pluralForms[i].key);if(ast.pluralForms[i].key==="other"){needOther=false}r.push('<br>"'+ast.pluralForms[i].key+'":'+interpMFPCustom(ast.pluralForms[i].val,_next(data)))}if(needOther){failed["success"]=false;failed["message"]='Select format pattern should contain "other"';failed["name"]="SyntaxError"}return"{"+r.join(",")+"}";case"simpleFormatPattern":data.type="simple";icu_elements[ast.type].push(ast.val);break;case"string":icu_elements[ast.type].push(ast.val);tmp='"'+MessageFormatLight.Utils.escapeExpression(ast.val)+'"';if(data.pf_count&&data.type!=="select"){tmp=MessageFormatLight.Utils.numSub(tmp,"d",data.keys[data.pf_count-1],data.offset[data.pf_count-1])}return tmp;default:failed["success"]=false;failed["message"]="Bad AST type: "+ast.type;failed["name"]="SyntaxError"}}interpMFPCustom(ast);if(failed["success"]===false){return failed}if(typeof icu_elements.messageFormatElement==="undefined"){if(flag==="is_icu"){return false}icu_elements["messageFormatElement"]=false}return icu_elements},MessageFormatLight.prototype.precompile=function(ast){var self=this,needOther=false;function _next(data){var res=JSON.parse(JSON.stringify(data));res.pf_count++;return res}function interpMFP(ast,data){data=data||{keys:{},offset:{},type:{}};var r=[],i,tmp;switch(ast.type){case"program":return interpMFP(ast.program);case"messageFormatPattern":for(i=0;i<ast.statements.length;++i){r.push(interpMFP(ast.statements[i],data))}tmp=r.join("+")||'""';return data.pf_count?tmp:"function(d){return "+tmp+"}";case"messageFormatPatternRight":for(i=0;i<ast.statements.length;++i){r.push(interpMFP(ast.statements[i],data))}return r.join("+");case"messageFormatElement":data.pf_count=data.pf_count||0;if(ast.output){return'v(d,"'+ast.argumentIndex+'")'}else{data.keys[data.pf_count]='"'+ast.argumentIndex+'"';return interpMFP(ast.elementFormat,data)}return"";case"elementFormat":if(ast.key==="select"){return"s(d,"+data.keys[data.pf_count]+","+interpMFP(ast.val,data)+")"}else if(ast.key==="plural"){data.offset[data.pf_count||0]=ast.val.offset||0;return"p(d,"+data.keys[data.pf_count]+","+(data.offset[data.pf_count]||0)+',"'+self.fallbackLocale+'",'+interpMFP(ast.val,data)+")"}else if(ast.key==="number"){return"n(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFP(ast.val,data):"")+")"}else if(ast.key==="time"){return"t(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFP(ast.val,data):"")+")"}else if(ast.key==="date"){return"dt(d,"+data.keys[data.pf_count]+(ast.val!==null?","+interpMFP(ast.val,data):"")+")"}return"";case"pluralFormatPattern":data.type="plural";data.pf_count=data.pf_count||0;for(i=0;i<ast.pluralForms.length;++i){r.push('"'+ast.pluralForms[i].key+'":'+interpMFP(ast.pluralForms[i].val,_next(data)))}return"{"+r.join(",")+"}";case"selectFormatPattern":data.type="select";data.pf_count=data.pf_count||0;data.offset[data.pf_count]=0;for(i=0;i<ast.pluralForms.length;++i){r.push('"'+ast.pluralForms[i].key+'":'+interpMFP(ast.pluralForms[i].val,_next(data)))}return"{"+r.join(",")+"}";case"simpleFormatPattern":data.type="simple";tmp='"'+MessageFormatLight.Utils.escapeExpression(ast.val)+'"';if(data.pf_count){tmp=MessageFormatLight.Utils.numSub(tmp,"d",data.keys[data.pf_count-1],data.offset[data.pf_count-1])}return tmp;case"string":tmp='"'+MessageFormatLight.Utils.escapeExpression(ast.val)+'"';if(data.pf_count&&data.type!=="select"){tmp=MessageFormatLight.Utils.numSub(tmp,"d",data.keys[data.pf_count-1],data.offset[data.pf_count-1])}return tmp}}return interpMFP(ast)};MessageFormatLight.prototype.getSkeleton=function(ast){function _next(data){var res=JSON.parse(JSON.stringify(data));res.pf_count++;return res}function interpMFP(ast,data){data=data||{keys:{},offset:{},type:{}};var r=[],i,tmp,offset;switch(ast.type){case"program":return interpMFP(ast.program);case"messageFormatPattern":for(i=0;i<ast.statements.length;++i){r.push(interpMFP(ast.statements[i],data))}tmp=r.join(" ")||"";return tmp;case"messageFormatPatternRight":for(i=0;i<ast.statements.length;++i){r.push(interpMFP(ast.statements[i],data))}return r.join(" ");case"messageFormatElement":data.pf_count=data.pf_count||0;if(ast.output){return"{"+ast.argumentIndex+"}"}else{data.keys[data.pf_count]=ast.argumentIndex;return interpMFP(ast.elementFormat,data)}return"";case"elementFormat":if(ast.key==="select"){return"{"+data.keys[data.pf_count]+","+ast.key+","+interpMFP(ast.val,data)+"}"}else if(ast.key==="plural"){data.offset[data.pf_count||0]=ast.val.offset||0;offset=data.offset[data.pf_count||0]>0?"offset:"+data.offset[data.pf_count||0]:"";return"{"+data.keys[data.pf_count]+","+ast.key+","+offset+interpMFP(ast.val,data)+"}"}else if(~["number","date","time"].indexOf(ast.key)){return"{"+data.keys[data.pf_count]+","+ast.key+(ast.val!==null?","+interpMFP(ast.val,data):"")+"}"}return"";case"pluralFormatPattern":var pluralKey;data.type="plural";data.pf_count=data.pf_count||0;for(i=0;i<ast.pluralForms.length;++i){pluralKey=(Number.isInteger(ast.pluralForms[i].key)?"=":"")+ast.pluralForms[i].key;r.push(pluralKey+"{"+interpMFP(ast.pluralForms[i].val,_next(data))+"}")}return r.join(" ");case"selectFormatPattern":data.type="select";data.pf_count=data.pf_count||0;data.offset[data.pf_count]=0;for(i=0;i<ast.pluralForms.length;++i){r.push(ast.pluralForms[i].key+"{"+interpMFP(ast.pluralForms[i].val,_next(data))+"}")}return r.join(" ");case"simpleFormatPattern":data.type="simple";return ast.val;case"string":return(ast.val.match(/#/g)||[]).join(" ")}}return interpMFP(ast)};MessageFormatLight.prototype.compile=function(message){var new_message=message.replace(/\\/g,"\\\\");return new Function("MessageFormatLight","return "+this.precompile(this.parse(new_message)))(MessageFormatLight)};if(typeof exports!=="undefined"){root["MessageFormatLight"]=MessageFormatLight;if(typeof module!=="undefined"&&module.exports){exports=module.exports=MessageFormatLight}exports.MessageFormatLight=MessageFormatLight}else if(typeof define==="function"&&define.amd){root["MessageFormatLight"]=MessageFormatLight;define((function(){return MessageFormatLight}))}else{root["MessageFormatLight"]=MessageFormatLight}})(this);
