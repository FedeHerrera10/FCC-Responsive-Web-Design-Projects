"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var TermsConsent=function(){function TermsConsent(termsAccepted){_classCallCheck(this,TermsConsent);this.termsAccepted=termsAccepted}_createClass(TermsConsent,[{key:"check",value:function check(){var _this=this;if(!this.termsAccepted){this.showPopup();$("#terms-consent-accept").click((function(){$("#terms_popup").dialog("destroy");_this.acceptTerms()}))}}},{key:"acceptTerms",value:function acceptTerms(){crowdin.ajax.postData("/settings/accept_terms")}},{key:"showPopup",value:function showPopup(){var text='\n        <div class="clearfix btn-toolbar">\n          <button id="terms-consent-accept" class="btn btn-primary">'.concat(_l("termsPopup.accept"),'</button>\n          <a href="/logout" class="btn mdc-button">').concat(_l("termsPopup.declineLogOut"),'</a>\n        </div>\n        <ul class="nav nav-tabs" style="padding-left: 0px; padding-right: 0px">\n          <li class="active"><a href="#iframe-terms" data-toggle="tab">').concat(_l("termsPopup.termsAndConditions"),'</a></li>\n          <li><a href="#iframe-privacy" data-toggle="tab">').concat(_l("termsPopup.privacyPolicy"),'</a></li>\n        </ul>\n        <div class="tab-content" style="margin: 0 -15px">\n          <div class="tab-pane active" id="iframe-terms" style="background: white">\n            <iframe height="450" width="100%" frameborder="0" src="').concat(KB_URL,'/iframe/terms/"/>\n          </div>\n          <div class="tab-pane" id="iframe-privacy" style="background: white">\n            <iframe height="450" width="100%" frameborder="0" src="').concat(KB_URL,'/iframe/privacy-policy/"/>\n          </div>\n        </div>\n    ');$('<div id="terms_popup"></div>').appendTo("body").html(text);$("#terms_popup").dialog({autoOpen:true,width:700,resizable:false,zIndex:1e5,modal:true,closeOnEscape:false,open:function open(event,ui){$(".ui-dialog-titlebar-close",ui.dialog|ui).hide();$(".ui-widget-overlay").css("position","fixed")},title:_l("termsPopup.termsAndPrivacyUpdated")})}}]);return TermsConsent}();
